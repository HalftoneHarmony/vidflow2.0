# 🎯 VidFlow Manager - Phase 2 작업 지시

**작성일**: 2026-01-05 05:25
**이전 상태**: Phase 1 완료 (에이전트 1, 2, 3, 4 기본 기능 완료)

---

## ✅ Phase 1 완료 현황

| 에이전트 | 담당 | 상태 | 결과물 |
|----------|------|------|--------|
| **에이전트 1** | UI/UX | ✅ 완료 | Support 개선, Settings 페이지, 공지 모달 |
| **에이전트 2** | 관리자 | ✅ 완료 | Contacts, Logs, Announcements 관리 |
| **에이전트 3** | Analytics | ✅ 완료 | Analytics 대시보드, 글로벌 검색 |
| **에이전트 4** | 백엔드 | ✅ 완료 | 타입, 사이드바, 미들웨어, 시드 데이터 |

---

## 🚀 Phase 2: 통합 및 마무리

### 👤 **에이전트 1: 최종 UI 검수 및 다크 테마 일관성**

#### 태스크 목록

1. **전체 페이지 다크 테마 일관성 검수**
   - 모든 관리자 페이지가 Heavy Metal 테마와 일치하는지 확인
   - 색상 팔레트: `zinc-900`, `red-500/600`, `emerald-500` (성공)
   - 버튼 스타일 통일

2. **로딩 상태 및 에러 핸들링 개선**
   - 모든 데이터 로딩 중 스켈레톤 UI 적용
   - 에러 발생 시 토스트 메시지 및 재시도 버튼

3. **반응형 최적화**
   - Analytics, Contacts, Logs 페이지 모바일 최적화
   - 테이블 → 카드 뷰 전환 (모바일)

---

### 👤 **에이전트 2: 관리자 기능 연결 완료**

#### 태스크 목록

1. **문의 답변 이메일 기능**
   - 관리자가 문의에 답변 시 이메일 발송 기능 (선택적)
   - Supabase Edge Function 또는 Resend 연동

2. **공지사항 ↔ 대시보드 연결**
   - 대시보드의 공지사항 배너 클릭 시 상세 모달 표시
   - 사용자용 공지사항 표시 (마이페이지)

3. **로그 내보내기 기능**
   - 활동 로그 CSV/JSON 내보내기 버튼 추가

---

### 👤 **에이전트 3: Analytics 완성 및 차트 고도화**

#### 태스크 목록

1. **대시보드 KPI 카드 개선**
   - 전월 대비 증감률 표시 (화살표 + %)
   - 미니 스파크라인 차트 추가 (선택적)

2. **Analytics 페이지 차트 추가**
   - 주간/월간 매출 라인 차트 (`v_daily_revenue` 사용)
   - 이벤트별 매출 비교 바 차트 (`v_event_analytics` 사용)
   - 고객 세그먼트 파이 차트 (`get_customer_segments()` 사용)

3. **글로벌 검색 결과 개선**
   - 검색 결과에서 바로 해당 항목으로 이동
   - 최근 검색어 저장 (localStorage)

---

### 👤 **에이전트 4: 인프라 및 배포 준비**

#### 태스크 목록

1. **환경 변수 정리**
   - `.env.example` 파일 생성
   - 필수 환경 변수 문서화

2. **빌드 최적화**
   - `npm run build` 성공 확인
   - 불필요한 console.log 제거
   - TypeScript strict mode 경고 해결

3. **README 업데이트**
   - 설치 및 실행 가이드
   - 환경 변수 설명
   - 폴더 구조 설명

4. **Vercel 배포 설정** (선택적)
   - `vercel.json` 설정
   - 환경 변수 설정 가이드

---

## 📋 Phase 2 우선순위

```
높음: 에이전트 3 (차트) > 에이전트 4 (빌드) > 에이전트 1 (검수) > 에이전트 2 (연결)
```

---

## 🔧 현재 해결된 이슈

- ✅ 사이드바에 새 메뉴 추가됨 (Analytics, Contacts, Logs, Announcements)
- ✅ 타입 정의 완료 (`database.types.ts`)
- ✅ 미들웨어 권한 체크 추가
- ✅ 테스트 데이터 시드 파일 생성

---

## ⚠️ 알려진 이슈

1. **Supabase CLI 타입 생성 실패** - 수동으로 타입 정의함
2. **FinanceCharts Recharts 타입 경고** - @ts-expect-error로 우회함
3. **일부 페이지 로딩 시 데이터 없음** - 테스트 데이터 시드 필요

---

## 💡 Phase 2 시작 전 확인사항

1. `npm run build` 성공 여부 확인
2. `npm run dev -- -p 3001` 실행 중인지 확인
3. 모든 새 페이지 접근 가능 여부 확인:
   - `/admin/analytics`
   - `/admin/contacts`
   - `/admin/logs`
   - `/admin/announcements`
   - `/settings`

---

**각 에이전트는 해당 섹션에 맞는 작업 완료 후 PR 생성!**
